<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strands â€” FAQ Assistant</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #f0f4f8;
    --surface: #ffffff;
    --border: #dde3ea;
    --accent: #1a56db;
    --accent-dark: #1340b0;
    --accent-light: #ebf0fd;
    --text: #111827;
    --muted: #6b7280;
    --bot-bg: #f8fafc;
    --user-bg: #1a56db;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Inter', sans-serif;
    min-height: 100vh;
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    padding: 20px;
    background-image: radial-gradient(circle at 85% 15%, rgba(26,86,219,0.07) 0%, transparent 50%),
                      radial-gradient(circle at 10% 85%, rgba(26,86,219,0.04) 0%, transparent 40%);
  }

  .wrapper { width: 100%; max-width: 720px; }

  .header {
    display: flex; align-items: center; gap: 16px;
    margin-bottom: 24px;
    animation: fadeDown 0.5s ease both;
  }

  .logo-mark {
    width: 48px; height: 48px; background: var(--accent);
    border-radius: 12px; display: flex; align-items: center; justify-content: center;
    font-family: 'Syne', sans-serif; font-weight: 700; font-size: 14px; color: white;
    flex-shrink: 0; box-shadow: 0 4px 14px rgba(26,86,219,0.3);
    letter-spacing: -0.5px;
  }

  .header-text h1 { font-family: 'Syne', sans-serif; font-size: 22px; font-weight: 700; color: var(--text); }
  .header-text p { font-size: 13px; color: var(--muted); margin-top: 2px; font-weight: 300; }

  .status-dot {
    width: 7px; height: 7px; background: #22c55e; border-radius: 50%;
    display: inline-block; margin-right: 5px; animation: pulse 2s infinite;
  }

  .chat-box {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: 20px; overflow: hidden;
    box-shadow: 0 8px 40px rgba(0,0,0,0.07), 0 2px 8px rgba(0,0,0,0.04);
    animation: fadeUp 0.6s ease both 0.1s;
  }

  .messages {
    height: 460px; overflow-y: auto;
    padding: 24px 22px;
    display: flex; flex-direction: column; gap: 14px;
    scroll-behavior: smooth;
  }

  .messages::-webkit-scrollbar { width: 4px; }
  .messages::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }

  .message { display: flex; gap: 10px; animation: msgIn 0.3s ease both; }
  .message.user { flex-direction: row-reverse; }

  .avatar {
    width: 32px; height: 32px; border-radius: 10px; flex-shrink: 0;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: 700; font-family: 'Syne', sans-serif;
  }

  .bot-avatar { background: var(--accent); color: white; box-shadow: 0 2px 8px rgba(26,86,219,0.25); }
  .user-avatar { background: #e5e7eb; color: var(--muted); }

  .bubble {
    max-width: 80%; padding: 12px 16px; border-radius: 14px;
    font-size: 14px; line-height: 1.7;
  }

  .bot .bubble {
    background: var(--bot-bg); border: 1px solid var(--border);
    border-top-left-radius: 4px; color: var(--text);
  }

  .user .bubble { background: var(--user-bg); border-top-right-radius: 4px; color: white; }
  .bubble a { color: var(--accent); text-decoration: underline; }
  .user .bubble a { color: #c7d9ff; }

  .dots { display: flex; gap: 4px; align-items: center; padding: 4px 2px; }
  .dots span {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--accent); animation: bounce 1.2s infinite;
  }
  .dots span:nth-child(2) { animation-delay: 0.2s; }
  .dots span:nth-child(3) { animation-delay: 0.4s; }

  .tabs {
    display: flex; gap: 6px; padding: 14px 22px 0;
    border-bottom: 1px solid var(--border);
    overflow-x: auto; scrollbar-width: none;
  }
  .tabs::-webkit-scrollbar { display: none; }

  .tab-btn {
    background: none; border: none; padding: 7px 14px;
    font-family: 'Inter', sans-serif; font-size: 12.5px; font-weight: 500;
    color: var(--muted); cursor: pointer; border-radius: 8px 8px 0 0;
    white-space: nowrap; transition: all 0.2s;
    border-bottom: 2px solid transparent; margin-bottom: -1px;
  }

  .tab-btn:hover { color: var(--accent); background: var(--accent-light); }
  .tab-btn.active { color: var(--accent); border-bottom-color: var(--accent); background: var(--accent-light); }

  .suggestions {
    padding: 12px 22px 14px;
    display: flex; flex-wrap: wrap; gap: 7px;
  }

  .suggestion-btn {
    background: var(--accent-light); border: 1px solid rgba(26,86,219,0.2);
    color: var(--accent-dark); font-family: 'Inter', sans-serif;
    font-size: 12.5px; padding: 6px 13px; border-radius: 20px;
    cursor: pointer; transition: all 0.2s ease;
  }

  .suggestion-btn:hover {
    background: var(--accent); color: white; border-color: var(--accent);
    transform: translateY(-1px); box-shadow: 0 3px 10px rgba(26,86,219,0.25);
  }

  .input-area {
    display: flex; align-items: center; gap: 10px;
    padding: 14px 18px; border-top: 1px solid var(--border); background: #fafbfc;
  }

  .input-area input {
    flex: 1; background: var(--surface); border: 1px solid var(--border);
    border-radius: 10px; padding: 10px 14px; outline: none;
    color: var(--text); font-family: 'Inter', sans-serif; font-size: 14px;
    transition: border-color 0.2s;
  }

  .input-area input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(26,86,219,0.1); }
  .input-area input::placeholder { color: #bbb; }

  .send-btn {
    width: 40px; height: 40px; border-radius: 10px;
    background: var(--accent); border: none; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(26,86,219,0.3);
  }

  .send-btn:hover { background: var(--accent-dark); transform: translateY(-1px); }
  .send-btn svg { width: 16px; height: 16px; fill: white; }

  .footer {
    display: flex; justify-content: space-between; align-items: center;
    margin-top: 16px; animation: fadeUp 0.6s ease both 0.2s;
  }

  .footer-left { font-size: 12px; color: var(--muted); }
  .footer-left a { color: var(--accent); text-decoration: none; font-weight: 500; }
  .footer-right { font-size: 12px; color: #bbb; }

  @keyframes fadeDown { from { opacity:0; transform:translateY(-14px); } to { opacity:1; transform:translateY(0); } }
  @keyframes fadeUp { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
  @keyframes msgIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
  @keyframes bounce { 0%,60%,100% { transform:translateY(0); } 30% { transform:translateY(-5px); } }
  @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.4; } }
</style>
</head>
<body>
<div class="wrapper">
  <div class="header">
    <div class="logo-mark">STR<br>ANDS</div>
    <div class="header-text">
      <h1>Strands Support</h1>
      <p><span class="status-dot"></span>FAQ Assistant Â· Always available Â· No login needed</p>
    </div>
  </div>

  <div class="chat-box">
    <div class="tabs" id="tabs">
      <button class="tab-btn active" onclick="setCategory('all', this)">All Topics</button>
      <button class="tab-btn" onclick="setCategory('tech', this)">Tech & Facts</button>
      <button class="tab-btn" onclick="setCategory('order', this)">Orders & Delivery</button>
      <button class="tab-btn" onclick="setCategory('warranty', this)">Warranty & Returns</button>
      <button class="tab-btn" onclick="setCategory('canbus', this)">CAN bus & XBB</button>
      <button class="tab-btn" onclick="setCategory('product', this)">Products</button>
      <button class="tab-btn" onclick="setCategory('contact', this)">Contact</button>
    </div>

    <div class="messages" id="messages"></div>

    <div class="suggestions" id="suggestions">
      <button class="suggestion-btn" onclick="ask(this)">What light technology types exist?</button>
      <button class="suggestion-btn" onclick="ask(this)">What is lumen and lux?</button>
      <button class="suggestion-btn" onclick="ask(this)">What are ECE regulations?</button>
      <button class="suggestion-btn" onclick="ask(this)">How long is the warranty?</button>
      <button class="suggestion-btn" onclick="ask(this)">How do I track my order?</button>
      <button class="suggestion-btn" onclick="ask(this)">Do I need a CAN bus interface?</button>
      <button class="suggestion-btn" onclick="ask(this)">What is IP rating?</button>
      <button class="suggestion-btn" onclick="ask(this)">How do I contact support?</button>
    </div>

    <div class="input-area">
      <input type="text" id="userInput" placeholder="Ask anything about Strands products..." onkeydown="if(event.key==='Enter') sendMessage()" />
      <button class="send-btn" onclick="sendMessage()">
        <svg viewBox="0 0 24 24"><path d="M2 21l21-9L2 3v7l15 2-15 2z"/></svg>
      </button>
    </div>
  </div>

  <div class="footer">
    <div class="footer-left">Content from <a href="https://strandseurope.com" target="_blank">strandseurope.com</a></div>
    <div class="footer-right">Â© Strands Group AB</div>
  </div>
</div>

<script>
// â”€â”€ CATEGORY TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const categoryQuestions = {
  all: ['What light technology types exist?','What is lumen and lux?','What are ECE regulations?','How long is the warranty?','How do I track my order?','Do I need a CAN bus interface?','What is IP rating?','How do I contact support?'],
  tech: ['What light technology types exist?','What is lumen and lux?','What is Kelvin?','What are beam patterns?','What are ECE regulations?','What is IP rating?','What amp rating do I need?'],
  order: ['Is there a minimum order?','Can I change my order?','How long is delivery?','How do I track my order?','Do you offer express delivery?','I received the wrong product','Items missing from my order'],
  warranty: ['How long is the warranty?','My product has broken','Does warranty cover modifications?','Can I cut the cable?','Can I cut the DT connector?','I want to return a product'],
  canbus: ['Do I need a CAN bus interface?','Will XBB work with my new car?','Do I need resistors for LED taillights?','What happens after a software update?','Will high beam automatics work?'],
  product: ['Which driving light should I choose?','What is No-Glare technology?','What is E-mode vs Xperience mode?','There is condensation in my light','Where can I find the manual?','Do you offer spare parts?'],
  contact: ['How do I contact support?','How do I become a reseller?','What are your opening hours?']
};

function setCategory(cat, btn) {
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  const qs = categoryQuestions[cat] || categoryQuestions.all;
  const sugg = document.getElementById('suggestions');
  sugg.style.display = 'flex';
  sugg.innerHTML = qs.map(q => `<button class="suggestion-btn" onclick="ask(this)">${q}</button>`).join('');
}

// â”€â”€ FAQ KNOWLEDGE BASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const FAQ = [
  // TECH & FACTS
  {
    cat: 'tech',
    keywords: ['light technology','halogen','xenon','led','types of lights','kind of technology','what technology'],
    answer: `The most common types are halogen, xenon, and LED:\n\nğŸ’¡ Halogen â€” Uses halogen gas and a filament. Brighter than regular bulbs but less luminous and shorter lifespan than xenon or LED. Generates significant heat.\n\nğŸ’¡ Xenon â€” Contains xenon gas, no filament. Longer lifespan, less power consumption than halogen. Takes a moment to reach full brightness. Also generates heat.\n\nğŸ’¡ LED â€” The most modern technology and most common in Strands products. LED lights have:\nâ€¢ Very long lifespan\nâ€¢ Low power consumption\nâ€¢ Short ignition time\nâ€¢ Better resistance to vibrations\n\nğŸ”— <a href="https://strands.se/kunskapsbank/valj-ratt-extraljus-den-ultimata-guiden/" target="_blank">Read more in our knowledge bank â†’</a>`
  },
  {
    cat: 'tech',
    keywords: ['lumen','lux','light output','brightness','intensity','luminous'],
    answer: `Lumen and lux explained:\n\nğŸ“ Lumen â€” Measures the luminous flux (strength) from a light source. It measures what comes out of the light source itself, not the overall lamp design. There are theoretical and actual lumens â€” Strands always refers to actual lumens, as theoretical values rarely occur in real conditions.\n\nğŸ“ Lux â€” Measures illuminance, i.e. how much light hits a specific surface. 1 lux = 1 lumen per square meter. Driving lights often use "1 lux @ x meters". For example: 1 lux @ 700m means you get 1 lumen/mÂ² at 700 meters from the vehicle.\n\nğŸ”¬ Strands has an advanced light laboratory where all lights are tested to ensure accurate and reliable measurements.`
  },
  {
    cat: 'tech',
    keywords: ['kelvin','color temperature','warm','cool','white light','colour'],
    answer: `Kelvin is a measure of color temperature:\n\nğŸŒ¡ï¸ Higher Kelvin value = cooler, bluer light\nğŸŒ¡ï¸ Lower Kelvin value = warmer, redder light\n\nâ€¢ Fluorescent lighting tends toward the cooler, bluish spectrum\nâ€¢ Dimmer lighting shifts toward the warmer, redder end\n\nFor driving and work lights, a cooler color temperature is usually ideal â€” it provides a clear, distinct beam making it easy to see what's ahead.\n\nA warmer color temperature can be better for driving in rain and snow, as it reduces glare from water particles.`
  },
  {
    cat: 'tech',
    keywords: ['beam pattern','beam','flood','combo','pencil','optimized','extended','long-distance','light pattern'],
    answer: `Strands offers three main beam patterns:\n\nğŸ”¦ Optimized (Flood) â€” The widest beam pattern. Best for winding forest or country roads where you need to spot animals and hazards on the sides.\n\nğŸ”¦ Extended (Combo) â€” A combination of width and distance. A versatile all-rounder.\n\nğŸ”¦ Long-distance (Pencil) â€” Narrow beam with maximum range. Best for long, straight roads like highways or mountain roads.\n\nThe right choice depends on personal preference and the types of roads you drive most.`
  },
  {
    cat: 'tech',
    keywords: ['ece','e-approved','e-godkÃ¤nt','regulations','legal','road legal','approval','r112','r87','r91'],
    answer: `ECE regulations (E-approved) are laws governing which lights are permitted on vehicles, their intensity, and how/where they may be installed.\n\nKey rules:\nâ€¢ A driving light must not be too powerful\nâ€¢ Position lights must have the correct color\nâ€¢ An approved light cannot be installed arbitrarily â€” placement and quantity rules apply\nâ€¢ An approved side marker cannot be connected to an indicator function\n\nMany Strands driving lights have two modes: E-mode (approved) and Xperience mode.\n\nECE categories covered:\nâ€¢ ECE R3 â€“ Reflectors\nâ€¢ ECE R6 â€“ Indicators\nâ€¢ ECE R7 â€“ Position, tail, brake lights\nâ€¢ ECE R19 â€“ Front fog lights\nâ€¢ ECE R65 â€“ Warning lights\nâ€¢ ECE R87 â€“ Daytime running lights\nâ€¢ ECE R91 â€“ Side marker lights\nâ€¢ ECE R98 â€“ Xenon headlamps\nâ€¢ ECE R112 â€“ Halogen and LED headlamps\n\nğŸ”— <a href="https://unece.org/transport/documents/2021/05/standards/un-regulation-no-149-road-illumination-devices-rid" target="_blank">UN Regulation No. 149 â†’</a>`
  },
  {
    cat: 'tech',
    keywords: ['reference number','referenstal','how many lights','total lighting','max 100'],
    answer: `The reference number indicates a lamp's light output â€” intensity, range, and beam width/length relationship. Higher value = more powerful light.\n\nAccording to ECE regulations, a vehicle's combined lighting must not exceed a reference number of 100 total (including both auxiliary and built-in lights). The reference number is embossed on the lamp's lens.\n\nğŸ‡¸ğŸ‡ª Sweden exception: Sweden has a national exemption from this rule. Reference numbers are not calculated in Sweden, making it possible to install many auxiliary lights â€” as long as they are still E-approved.\n\nIf you frequently drive abroad, it may be wise to disconnect extra lights to avoid fines.`
  },
  {
    cat: 'tech',
    keywords: ['ip rating','ip class','ip66','waterproof','dustproof','water protection','ip67','ip69'],
    answer: `IP rating indicates how well a product is protected against solids and liquids.\n\nFirst digit (dust protection, 0â€“6):\nâ€¢ 5 = Dust protected\nâ€¢ 6 = Dust-tight\n\nSecond digit (water protection):\nâ€¢ 5 = Protected against water jets from a nozzle\nâ€¢ 6 = Protected against powerful water jets\nâ€¢ 7 = Can be temporarily submerged\nâ€¢ 8 = Suitable for continuous immersion\nâ€¢ 9(K) = Suitable for high-pressure and high-temperature water\n\nExample: IP66 = dust-tight + protected against powerful water jets.\n\nâš ï¸ A lower IP rating may mean the light cannot withstand a car wash or very hot water.`
  },
  {
    cat: 'tech',
    keywords: ['relay','fuse','cable','amp','ampere','installation','wire gauge','wiring','circuit'],
    answer: `Guidelines for relay, fuse, and cable gauge:\n\nâ€¢ Relay: Must be rated at least 10% above the maximum load of the installation, AND have a higher amp rating than the fuse.\nâ€¢ Fuse: Set just above the total maximum load â€” so the fuse is always the weakest link. If something goes wrong, the fuse fails first (protecting everything else).\nâ€¢ Cable cross-section: Depends on the load, wiring length, and cable material. There's no universal answer as every installation is unique.\n\nâš ï¸ If you are unsure, it is safest to consult a vehicle electrician.`
  },
  {
    cat: 'tech',
    keywords: ['side marker','indicator','blinker','sidomarkering','e-approved side','use as indicator'],
    answer: `Can you use an E-approved side marker as an indicator?\n\nNo. If a product is only E-approved as a side marker, it may only legally be used as a side marker.\n\nIf you want multiple functions in one light, ALL functions must be individually E-approved for their respective uses. The E-approval mark is imprinted on the lamp's lens.`
  },
  {
    cat: 'tech',
    keywords: ['ece r10','r10 approval','where is approval','find approval','label','silver tag'],
    answer: `Where to find ECE approvals on your product:\n\nâ€¢ ECE R10 approval: Found either printed on the lens OR on the silver tag on the cable.\nâ€¢ All other ECE R approvals: Imprinted directly on the lens.`
  },

  // ORDER & DELIVERY
  {
    cat: 'order',
    keywords: ['minimum order','order limit','minimum','how much','smallest order'],
    answer: `There is no minimum order limit at Strands. You can order as little or as much as you need! ğŸ›’`
  },
  {
    cat: 'order',
    keywords: ['change order','modify order','cancel order','edit order','update order'],
    answer: `Orders are processed promptly, so changes cannot be made once an order is confirmed. This includes changing the delivery address or delivery option.\n\nIf your order is not yet confirmed, contact customer service:\nğŸ“ +46(0)320-450450\n\nOpening hours: 08:00â€“17:00 on business days.`
  },
  {
    cat: 'order',
    keywords: ['delivery notice','shipping confirmation','not received email','tracking email','dispatch email'],
    answer: `You will always receive an email once your order has been shipped. If you haven't received one within the stated delivery time, please contact:\n\nğŸ“§ support@strands.se\nğŸ“ +46(0)320-450450`
  },
  {
    cat: 'order',
    keywords: ['missing item','items missing','missing from order','incomplete order','not all items'],
    answer: `Missing items in your order?\n\nThe item may be on backorder. If your delivery doesn't match the enclosed packing slip, something may have gone wrong during picking.\n\nPlease contact us right away:\nğŸ“§ support@strands.se\nğŸ“ +46(0)320-450450`
  },
  {
    cat: 'order',
    keywords: ['wrong product','wrong item','incorrect product','received wrong','got wrong'],
    answer: `We apologize for the mix-up! Please contact our customer support and we'll assist you promptly:\n\nğŸ“§ support@strands.se\nğŸ“ +46(0)320-450450\n\nOpening hours: 08:00â€“17:00 on business days.`
  },
  {
    cat: 'order',
    keywords: ['broken product','damaged','broken delivery','damaged package','arrived broken'],
    answer: `Received a broken product?\n\n1. First check if the outer packaging is damaged â€” if so, the cause may be mishandling during shipping.\n2. Contact the transport company according to their guidelines.\n3. Then contact Strands support:\n\nğŸ“§ support@strands.se\nğŸ“ +46(0)320-450450`
  },
  {
    cat: 'order',
    keywords: ['track order','tracking','where is my order','follow package','postnord','shipment status'],
    answer: `Once your order has been shipped, you'll receive an email with a tracking link.\n\nYou can also track your package via the transport company's app (e.g. the PostNord app).`
  },
  {
    cat: 'order',
    keywords: ['express delivery','express shipping','fast delivery','urgent delivery','overnight'],
    answer: `Unfortunately Strands does not offer express delivery. We ship via PostNord which does not offer an express delivery option.`
  },
  {
    cat: 'order',
    keywords: ['delivery time','how long','shipping time','when will','estimated delivery','1-4 days'],
    answer: `Delivery times:\n\nğŸ‡¸ğŸ‡ª Sweden: Approximately 1â€“4 business days.\n\nğŸŒ International: Delivery times vary by destination. Please contact us for an estimate:\nğŸ“§ support@strands.se`
  },
  {
    cat: 'order',
    keywords: ['reseller','become reseller','retailer','dealer','distribute','wholesaler'],
    answer: `Interested in becoming a Strands reseller? We'd love to hear from you!\n\nğŸ“§ Contact us at order@strands.se\n\nğŸ”— Or fill in the form: <a href="https://strandseurope.com/sv/become-a-retailer" target="_blank">Become a retailer â†’</a>`
  },

  // WARRANTY & RETURNS
  {
    cat: 'warranty',
    keywords: ['warranty','guarantee','how long warranty','warranty period','years warranty'],
    answer: `Strands Lighting Division (SLD) products come with a 3 to 6-year warranty, depending on the product.\n\nFor other product ranges, the warranty is typically 1 year unless otherwise stated.\n\nThe warranty covers defects from the production and manufacturing process. It does NOT cover faults caused by incorrect use or installation.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Full warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['product broken','broken','stopped working','not working','make a claim','warranty claim','submit claim'],
    answer: `If your product has broken:\n\nâ€¢ If purchased from a retailer â†’ contact the retailer directly.\nâ€¢ To submit a warranty claim directly with Strands:\n\nğŸ“§ reklamation@strands.se\n\nğŸ”— <a href="https://strandseurope.com/sv/contact/claims-and-returns" target="_blank">Claims & returns instructions â†’</a>\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['return','wrong product','regret','cancel','right of withdrawal','ordered wrong'],
    answer: `Returning or regretting a purchase:\n\nNote: The right of withdrawal does not apply to B2B (business-to-business) transactions. Company orders are binding unless otherwise agreed in writing.\n\nHowever, Strands takes a solution-oriented approach. If you have an issue or your situation changes, contact us as early as possible and we'll try to find a suitable solution.\n\nğŸ“§ support@strands.se\nğŸ”— <a href="https://strandseurope.com/sv/contact/claims-and-returns" target="_blank">Claims & returns â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['modify product','modification','warranty void','tamper'],
    answer: `If you modify the product, the warranty will be void.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Full warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['disassemble','opened product','disassembled','open lamp','take apart'],
    answer: `Opening or disassembling a product:\n\nâ€¢ If the product is designed to be opened (e.g. a halogen driving light where you change the bulb) â€” this is fine and the warranty is maintained.\nâ€¢ If you disassemble a sealed product (e.g. an LED bar not intended to be opened) â€” the warranty expires.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['cut dt connector','dt connector','dt plug','connector warranty'],
    answer: `No, the warranty does NOT apply if you cut the DT connector.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['cut cable','shorten cable','cable length','cut wire'],
    answer: `The warranty does not apply if you cut the cable shorter than 50 cm.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Warranty terms â†’</a>`
  },
  {
    cat: 'warranty',
    keywords: ['paint','lacquer','spray paint','painted light','coat'],
    answer: `Whether painting your driving light voids the warranty depends on the specific product â€” check the product manual for details.\n\nStrands does NOT recommend painting the product housing. If paint is applied:\nâ€¢ Make sure the breather vent is protected during painting\nâ€¢ Do NOT use an oven to cure the paint\n\nFailure to follow these precautions may void the warranty.\n\nğŸ”— <a href="https://strandseurope.com/sv/about-us/function-warranty" target="_blank">Warranty terms â†’</a>`
  },

  // CAN BUS & XBB
  {
    cat: 'canbus',
    keywords: ['canbus interface','can bus','270417','when do i need','need interface','canbuss'],
    answer: `When do you need a CAN bus interface (Part No. 270417)?\n\nYou need it when you want to control an LED bar or driving lights together with the high beam, AND your vehicle only delivers a current pulse (not a constant power supply) to activate the high beam.\n\nNote:\nâ€¢ You can connect driving lights directly to the battery with a separate control panel â€” no CAN bus issues, but they won't activate with the high beam.\nâ€¢ If you take only a trigger signal for the relay from the high beam, CAN bus issues may occur â†’ use a CAN bus interface.\nâ€¢ The interface converts the high beam signal into an analog positive signal, usable with a separate wiring harness.\n\nMainly needed for vehicles with xenon or LED headlamps.`
  },
  {
    cat: 'canbus',
    keywords: ['high beam automatic','adaptive high beam','auto high beam','high beam automatics'],
    answer: `Adaptive/automatic high beam will NOT work with the CAN bus interface (Part No. 270417).\n\nIt will still function in manual high beam mode.`
  },
  {
    cat: 'canbus',
    keywords: ['software update','car update','firmware car','workshop update','can bus after update'],
    answer: `If your car's software is updated, the CAN bus system may use a new signal that the interface needs to adapt to.\n\nWhat happens:\nâ€¢ The CAN bus interface will stop working and needs to be updated through Nitor.\nâ€¢ If the interface is more than 12 months old, it cannot be updated and may need to be replaced.`
  },
  {
    cat: 'canbus',
    keywords: ['resistor','led taillights','tail light','error message led','canbus error','load resistor'],
    answer: `Do you need resistors for LED taillights?\n\nIt depends on your specific car:\nâ€¢ Some cars work fine with LED lights without resistors.\nâ€¢ Others will not activate the light at all without a resistor (needed to trick the car's computer into detecting a bulb).\nâ€¢ Newer and higher-end cars are typically more sensitive.\n\nğŸ’¡ Recommendation: Try without a resistor first. If the light doesn't work correctly, then purchase a resistor.`
  },
  {
    cat: 'canbus',
    keywords: ['xbb dongle new car','will xbb work','xbb new car','obd port locked','firewall obd','secure gateway','pp-can','pp can','270425','907003'],
    answer: `Will XBB Dongle work with your new car?\n\nProbably yes â€” but check two things:\n\n1. The Recipe:\nXBB Dongle reads the vehicle's digital signals via a car-specific "recipe". Check the compatible vehicle list:\nğŸ”— <a href="https://www.xbb.se/xbbTable/bilmodeller.php" target="_blank">Compatible car list â†’</a>\n\n2. OBD Port accessibility:\nSome newer vehicles (e.g. Volvo post-2017, certain Mercedes, newer VAG vehicles) have a "firewall" or Secure Gateway on the OBD port, blocking the Dongle from reading signals directly.\n\nWhat you need:\nâ€¢ Standard install: XBB Dongle/PowerUnit kit (270425) + wiring harness (907003) â€” if your car is listed and has an open OBD port.\nâ€¢ Locked OBD port: PP-CAN + wiring (907051 + 907052). Installed behind the dashboard at the car's CAN nodes.\nâ€¢ No OBD port / advanced: PP-CAN-FD â€” connects directly to the CAN bus. Requires higher technical knowledge.\n\nğŸ’¡ Tip: Contact Strands with your registration number and we'll confirm exactly what you need!\nğŸ“§ support@strands.se`
  },
  {
    cat: 'canbus',
    keywords: ['how to use xbb','xbb setup','xbb install','configure xbb','xbb configurator','obd2 xbb'],
    answer: `How to use the XBB / CAN bus interface:\n\n1. Check if a compatible recipe exists for your car model:\nğŸ”— <a href="https://www.xbb.se/en/compatible-cars/" target="_blank">Compatible cars â†’</a>\n\n2. Download the XBB Configurator app\n\n3. Connect the XBB Dongle to your car's OBD2 port\n\n4. Pair with the Dongle via the app and select a recipe\n\n5. Test the recipe â€” verify signals work correctly\n\n6. Install your lights and the XBB PowerUnit with correct wiring\n\n7. Connect to the PowerUnit in the app\n\n8. Start your car and test the lights\n\nğŸ”— <a href="https://www.xbb.se/en/snabbguide/" target="_blank">Full installation guide â†’</a>`
  },

  // PRODUCTS
  {
    cat: 'product',
    keywords: ['which light','which driving light','choose light','right light','light for my car','suitable light','what light'],
    answer: `Choosing the right driving light:\n\nğŸš› Large car or truck â†’ Consider a 9" driving light or larger LED bar (very high performance)\nğŸš LCV or regular car â†’ A 7" driving light or slim LED bar works well\n\nBeam patterns:\nâ€¢ Long straight roads (highway/mountain) â†’ Long-distance/pencil beam\nâ€¢ Winding forest/country roads â†’ Optimized/flood (wider, spots hazards on the sides)\nâ€¢ All-round â†’ Extended/combo\n\nğŸ’¡ For LCVs, check our model-adapted range for complete LED bar kits, warning light bars, and roof rack solutions.\n\nğŸ”— <a href="https://strandseurope.com" target="_blank">Browse Strands products â†’</a>`
  },
  {
    cat: 'product',
    keywords: ['no-glare','noglare','glare','blinding','for9t'],
    answer: `No-Glare technology (featured in the FOR9T):\n\nThanks to the unique lens structure, light output is divided:\nâ€¢ Stronger in the lower part of the beam\nâ€¢ More diffused further up\n\nThis prevents tired eyes from glaring lights in dark conditions, as the diffused upper portion is less blinding. Unlike conventional work lights that shine in all directions, No-Glare projects a focused beam exactly where needed.`
  },
  {
    cat: 'product',
    keywords: ['e-mode','xperience mode','two modes','light modes','road legal mode','xperience'],
    answer: `E-mode vs Xperience mode:\n\nâœ… E-mode â€” E-approved and road legal. A significant boost to your built-in high beam. Well-suited for driving in rainy or snowy conditions as it produces less glare from water particles.\n\nâš¡ Xperience mode â€” Maximum power mode. Produces the most impressive output in terms of luminosity and range. Optimal for very dark and challenging conditions.\n\nMany Strands driving lights let you switch between these two modes.`
  },
  {
    cat: 'product',
    keywords: ['repair','repairs','fix product','service product'],
    answer: `Unfortunately Strands does not offer product repairs.\n\nMost products come sealed from the factory, and some are even pressurized â€” it is not advisable to open them. If your product has a fault, please submit a warranty claim:\n\nğŸ“§ reklamation@strands.se\nğŸ”— <a href="https://strandseurope.com/sv/contact/claims-and-returns" target="_blank">Claims & returns â†’</a>`
  },
  {
    cat: 'product',
    keywords: ['manual','instruction','user guide','find manual','product manual','documentation'],
    answer: `You can download the product manual from the product page on the Strands website.\n\nIf you cannot find it:\nğŸ“§ support@strands.se`
  },
  {
    cat: 'product',
    keywords: ['spare parts','replacement parts','spare','parts available'],
    answer: `Strands can sometimes offer spare parts and mounting accessories.\n\nPlease contact support for availability:\nğŸ“§ support@strands.se\n\nğŸ”— <a href="https://strandseurope.com/sv/kategorier/monteringstillbehor/fasten" target="_blank">Browse mounting accessories â†’</a>`
  },
  {
    cat: 'product',
    keywords: ['condensation','moisture','water inside lamp','fog inside','humid inside','water in light'],
    answer: `Condensation inside a lamp is normal and often caused by high humidity combined with temperature changes.\n\nMost Strands lights have a breather vent. The moisture will eventually dissipate through this vent when you use the lamp â€” no action needed.`
  },
  {
    cat: 'product',
    keywords: ['where install','placement','install lights','position lights','where to mount','height'],
    answer: `For maximum visibility, install your lights as high as possible on the vehicle. Higher placement results in:\nâ€¢ Less shadows on the road\nâ€¢ Fewer "dark spots"\nâ€¢ Overall better light experience`
  },
  {
    cat: 'product',
    keywords: ['cruise light','850208','wireless control','control unit','wireless control unit'],
    answer: `Using the Cruise Light wireless control unit (Part No. 850208):\n\nThe wireless control has 6 outputs:\nâ€¢ 2 dedicated to Cruise Light warning light bars\nâ€¢ The remaining 4 can be connected to any lights\n\nYou can control the lights wirelessly via the control unit or via a signal cable.\n\nFind detailed instructions in the product manual on our website or contact support@strands.se.`
  },

  // CONTACT
  {
    cat: 'contact',
    keywords: ['contact','support','phone','email','reach','get in touch','customer service','help','opening hours'],
    answer: `Strands contact information:\n\nğŸ“ Phone: +46(0)320-450450\nğŸ“§ Customer service: order@strands.se\nğŸ“§ Technical support: support@strands.se\nğŸ“§ Warranty claims: reklamation@strands.se\n\nğŸ• Opening hours: 08:00â€“17:00 on business days\nWe aim to answer emails within 24 hours on business days.\n\nğŸ¢ Main office:\nStrands Group AB\nHagalundsvÃ¤gen\n51172 Fritsla, Sweden`
  },
  {
    cat: 'contact',
    keywords: ['images','photos','copyright','use images','use text','website content','permission'],
    answer: `Can you use Strands images or text on your website?\n\nAs a rule, no. All content on the Strands website is either owned by Strands or used with the owner's permission, and is protected under copyright law.\n\nIt is forbidden to copy images or other materials without Strands' prior consent. If you wish to use our images or content, please contact us first.`
  }
];

// â”€â”€ MATCHING ENGINE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function findAnswer(query) {
  const q = query.toLowerCase();
  let bestMatch = null;
  let bestScore = 0;

  for (const faq of FAQ) {
    let score = 0;
    for (const kw of faq.keywords) {
      if (q.includes(kw.toLowerCase())) {
        score += kw.split(' ').length;
      }
    }
    if (score > bestScore) {
      bestScore = score;
      bestMatch = faq;
    }
  }

  if (bestScore > 0) return bestMatch.answer;

  return `I'm not sure about that specific question. Here are ways to get help:\n\nğŸ“§ <a href="mailto:support@strands.se">support@strands.se</a>\nğŸ“ +46(0)320-450450\nğŸ”— <a href="https://strandseurope.com" target="_blank">strandseurope.com â†’</a>\n\nTry rephrasing â€” I cover: light technology, ECE regulations, IP ratings, orders, delivery, warranty, CAN bus/XBB, and product questions.`;
}

// â”€â”€ CHAT UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function addMessage(role, html) {
  const messages = document.getElementById('messages');
  const div = document.createElement('div');
  div.className = `message ${role}`;
  div.innerHTML = `
    <div class="avatar ${role}-avatar">${role === 'bot' ? 'STR' : 'You'}</div>
    <div class="bubble">${html.replace(/\n/g, '<br>')}</div>
  `;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

function showTyping() {
  const messages = document.getElementById('messages');
  const div = document.createElement('div');
  div.className = 'message bot'; div.id = 'typing';
  div.innerHTML = `<div class="avatar bot-avatar">STR</div><div class="bubble"><div class="dots"><span></span><span></span><span></span></div></div>`;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

function removeTyping() {
  const t = document.getElementById('typing');
  if (t) t.remove();
}

function ask(btn) {
  document.getElementById('userInput').value = btn.textContent;
  sendMessage();
}

function sendMessage() {
  const input = document.getElementById('userInput');
  const text = input.value.trim();
  if (!text) return;
  document.getElementById('suggestions').style.display = 'none';
  addMessage('user', text);
  input.value = '';
  showTyping();
  setTimeout(() => {
    removeTyping();
    addMessage('bot', findAnswer(text));
  }, 500 + Math.random() * 300);
}

window.onload = () => {
  setTimeout(() => {
    addMessage('bot', `Hi! ğŸ‘‹ I'm the Strands FAQ assistant. I can help you with:\n\nâ€¢ Light technology (lumen, lux, Kelvin, ECE, IP rating)\nâ€¢ Orders, delivery & returns\nâ€¢ Warranty & claims\nâ€¢ CAN bus & XBB installation\nâ€¢ Product questions\n\nUse the tabs above to browse by topic, or just ask me anything!`);
  }, 400);
};
</script>
</body>
</html>
